# ğŸ“‹ AIæ–‡ä»¶å¤´æ¨¡æ¿è§„èŒƒ

> æ¯ä¸ªæ–‡ä»¶éƒ½å¿…é¡»åœ¨é¡¶éƒ¨åŒ…å«æ ‡å‡†åŒ–çš„å…ƒæ•°æ®æ³¨é‡Šï¼Œè¿™æ˜¯AIå·¥ä½œæµç¨‹çš„"ç¥ç»æœ«æ¢¢"

---

## ğŸ¯ ä¸ºä»€ä¹ˆéœ€è¦æ–‡ä»¶å¤´ï¼Ÿ

æ–‡ä»¶å¤´æ˜¯é¡¹ç›®"åº•å±‚é€»è¾‘"çš„å®ç°æœºåˆ¶ï¼Œç¡®ä¿ï¼š
1. **AIæ¯æ¬¡æ‰“å¼€æ–‡ä»¶éƒ½èƒ½çœ‹åˆ°å¼€å‘è§„èŒƒæç¤º**
2. **æ˜ç¡®æ–‡ä»¶èŒè´£å’Œå…³è”å…³ç³»**
3. **å¼ºåˆ¶æ‰§è¡Œæ–‡æ¡£åŒæ­¥è¦æ±‚**
4. **è‡ªåŠ¨åŒ–éªŒè¯è„šæœ¬å¯ä»¥æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§**

---

## ğŸ“ æ¨¡æ¿è§„èŒƒ

### 1. å‰ç«¯é¡µé¢ç»„ä»¶ (`pages/*.tsx`)

```tsx
/**
 * @file {FileName} - {ç®€çŸ­åŠŸèƒ½æè¿°}
 * @category Page
 * @requires_auth {yes|no|role:admin|role:company}
 * @i18n_module {moduleName}
 * @route {/path/to/route}
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md #æ–°å»ºé¡µé¢å¿…å¤‡åŠŸèƒ½æ¸…å•
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md å¯¹åº”ç« èŠ‚
 * 
 * èŒè´£:
 * - {èŒè´£1}
 * - {èŒè´£2}
 * 
 * ä¾èµ–æ–‡ä»¶:
 * @uses {../api.ts} - {ç”¨é€”}
 * @uses {../authContext.tsx} - {ç”¨é€”}
 * 
 * è¢«ä½¿ç”¨äº:
 * @used_in {App.tsx} - è·¯ç”±é…ç½®
 * 
 * å¿…å¤‡åŠŸèƒ½æ£€æŸ¥:
 * âœ… å›½é™…åŒ– (useTranslation)
 * âœ… é”™è¯¯å¤„ç† (try-catch + humanizeError)
 * âœ… åŠ è½½çŠ¶æ€ (loading state)
 * âœ… ç©ºçŠ¶æ€å¤„ç†
 * âœ… ç»Ÿä¸€UIæ ·å¼ (Tailwind)
 * âœ… å“åº”å¼è®¾è®¡
 */
```

### 2. å‰ç«¯é€šç”¨ç»„ä»¶ (`components/*.tsx`)

```tsx
/**
 * @file {ComponentName} - {ç®€çŸ­åŠŸèƒ½æè¿°}
 * @category Component
 * @i18n {yes|no}
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md #æ–°å»ºç»„ä»¶å¿…å¤‡åŠŸèƒ½æ¸…å•
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md ç»„ä»¶åˆ—è¡¨
 * 
 * èŒè´£:
 * - {èŒè´£æè¿°}
 * 
 * Props:
 * @param {Type} propName - {æè¿°}
 * 
 * è¢«ä½¿ç”¨äº:
 * @used_in {pages/HomePage.tsx} - {ä½¿ç”¨åœºæ™¯}
 * @used_in {pages/IdeaDetailPage.tsx} - {ä½¿ç”¨åœºæ™¯}
 * 
 * å¯å¤ç”¨æ€§: {é«˜|ä¸­|ä½}
 * å¿…å¤‡åŠŸèƒ½æ£€æŸ¥:
 * âœ… TypeScriptç±»å‹å®šä¹‰
 * âœ… PropséªŒè¯
 * âœ… å›½é™…åŒ–æ”¯æŒ (å¦‚æœ‰æ–‡æœ¬)
 * âœ… æ— ä¸šåŠ¡é€»è¾‘è€¦åˆ
 */
```

### 3. å‰ç«¯å·¥å…·å‡½æ•° (`utils/*.ts`, `api.ts`, `config.ts`ç­‰)

```typescript
/**
 * @file {fileName} - {ç®€çŸ­åŠŸèƒ½æè¿°}
 * @category Utility|API|Config
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md å·¥å…·å‡½æ•°ç« èŠ‚
 * 
 * èŒè´£:
 * - {èŒè´£æè¿°}
 * 
 * å¯¼å‡ºå‡½æ•°:
 * @exports {functionName} - {åŠŸèƒ½æè¿°}
 * 
 * è¢«ä½¿ç”¨äº:
 * @used_in {å¤šä¸ªé¡µé¢} - {ä½¿ç”¨åœºæ™¯}
 * 
 * æ³¨æ„äº‹é¡¹:
 * - {é‡è¦æç¤º}
 */
```

### 4. åç«¯è·¯ç”± (`routes/*.js`)

```javascript
/**
 * @file {fileName} - {APIç«¯ç‚¹ç»„æè¿°}
 * @category Route
 * @base_path {/api/xxx}
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md #ä¿®æ”¹APIå¿…å¤‡æ­¥éª¤
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md è·¯ç”±ç« èŠ‚
 * 
 * APIç«¯ç‚¹:
 * @endpoint GET {/path} - {æè¿°}
 * @endpoint POST {/path} - {æè¿°}
 * 
 * ä¾èµ–:
 * @uses {controllers/xxx.controller.js} - {ç”¨é€”}
 * @uses {middleware/auth.js} - {ç”¨é€”}
 * 
 * è®¤è¯è¦æ±‚:
 * - {requireAuth|requireRole(admin)|public}
 * 
 * è¢«æ³¨å†Œäº:
 * @registered_in {app.js} - Expressåº”ç”¨
 */
```

### 5. åç«¯æ§åˆ¶å™¨ (`controllers/*.js`)

```javascript
/**
 * @file {fileName} - {ä¸šåŠ¡é€»è¾‘æè¿°}
 * @category Controller
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md æ§åˆ¶å™¨ç« èŠ‚
 * 
 * èŒè´£:
 * - {èŒè´£1}
 * - {èŒè´£2}
 * 
 * å¯¼å‡ºæ–¹æ³•:
 * @exports {methodName} - {åŠŸèƒ½æè¿°}
 * 
 * ä¾èµ–æ¨¡å‹:
 * @uses_model {User} - {ç”¨é€”}
 * @uses_model {Idea} - {ç”¨é€”}
 * 
 * ä¾èµ–æœåŠ¡:
 * @uses_service {services/email.service.js} - {ç”¨é€”}
 * 
 * è¢«ä½¿ç”¨äº:
 * @used_in {routes/xxx.routes.js} - è·¯ç”±å¤„ç†
 */
```

### 6. åç«¯æ•°æ®æ¨¡å‹ (`models/*.js`)

```javascript
/**
 * @file {ModelName} - {æ•°æ®æ¨¡å‹æè¿°}
 * @category Model
 * @collection {collectionName}
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md æ¨¡å‹ç« èŠ‚
 * 
 * Schemaå­—æ®µ:
 * @field {fieldName} {Type} - {æè¿°}
 * 
 * å…³è”æ¨¡å‹:
 * @ref {User} - {å…³ç³»æè¿°}
 * @ref {Idea} - {å…³ç³»æè¿°}
 * 
 * ç´¢å¼•:
 * @index {fieldName} - {ç´¢å¼•ç±»å‹}
 * 
 * è¢«ä½¿ç”¨äº:
 * @used_in {controllers/xxx.controller.js} - {ç”¨é€”}
 */
```

### 7. åç«¯ä¸­é—´ä»¶ (`middleware/*.js`)

```javascript
/**
 * @file {fileName} - {ä¸­é—´ä»¶åŠŸèƒ½æè¿°}
 * @category Middleware
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md ä¸­é—´ä»¶ç« èŠ‚
 * 
 * èŒè´£:
 * - {èŒè´£æè¿°}
 * 
 * å¯¼å‡ºä¸­é—´ä»¶:
 * @exports {middlewareName} - {åŠŸèƒ½æè¿°}
 * 
 * ä½¿ç”¨ä½ç½®:
 * @used_in {app.js} - {å…¨å±€ä¸­é—´ä»¶|ç‰¹å®šè·¯ç”±}
 * @used_in {routes/xxx.routes.js} - {ç”¨é€”}
 * 
 * é”™è¯¯å¤„ç†:
 * - {é”™è¯¯åœºæ™¯å’Œå¤„ç†æ–¹å¼}
 */
```

### 8. åç«¯æœåŠ¡ (`services/*.js`)

```javascript
/**
 * @file {fileName} - {æœåŠ¡åŠŸèƒ½æè¿°}
 * @category Service
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md æœåŠ¡ç« èŠ‚
 * 
 * èŒè´£:
 * - {èŒè´£æè¿°}
 * 
 * å¯¼å‡ºæ–¹æ³•:
 * @exports {methodName} - {åŠŸèƒ½æè¿°}
 * 
 * å¤–éƒ¨ä¾èµ–:
 * @external {nodemailer} - {ç”¨é€”}
 * @external {bull} - {ç”¨é€”}
 * 
 * è¢«ä½¿ç”¨äº:
 * @used_in {controllers/xxx.controller.js} - {ç”¨é€”}
 * @used_in {workers/xxx.worker.js} - {ç”¨é€”}
 */
```

### 9. é…ç½®æ–‡ä»¶ (`package.json`, `.env`, `config/*`)

```javascript
/**
 * @file {fileName} - {é…ç½®æ–‡ä»¶æè¿°}
 * @category Config
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md å’Œ README.md
 * 
 * é…ç½®é¡¹:
 * - {é…ç½®é¡¹1}: {æè¿°}
 * - {é…ç½®é¡¹2}: {æè¿°}
 * 
 * ç¯å¢ƒå˜é‡:
 * @env {VAR_NAME} - {æè¿°}
 * 
 * æ³¨æ„äº‹é¡¹:
 * - {é‡è¦æç¤º}
 */
```

---

## ğŸ” è‡ªåŠ¨åŒ–éªŒè¯

éªŒè¯è„šæœ¬ä¼šæ£€æŸ¥ï¼š
1. âœ… æ–‡ä»¶æ˜¯å¦æœ‰æ ‡å‡†æ–‡ä»¶å¤´
2. âœ… `@file` æ ‡ç­¾æ˜¯å¦å­˜åœ¨
3. âœ… `[AI]` æç¤ºæ˜¯å¦åŒ…å«
4. âœ… `@category` æ˜¯å¦æ­£ç¡®
5. âœ… å¿…å¤‡åŠŸèƒ½æ£€æŸ¥æ˜¯å¦å­˜åœ¨ï¼ˆé¡µé¢ç»„ä»¶ï¼‰

---

## ğŸ“ å¡«å†™æŒ‡å—

### å¿…å¡«å­—æ®µï¼ˆæ‰€æœ‰æ–‡ä»¶ï¼‰
- `@file` - æ–‡ä»¶åå’Œç®€çŸ­æè¿°
- `@category` - æ–‡ä»¶åˆ†ç±»
- `ğŸ“– [AI]` - ä¿®æ”¹å‰æç¤º
- `ğŸ”„ [AI]` - ä¿®æ”¹åæç¤º
- `èŒè´£` - æ–‡ä»¶çš„ä¸»è¦èŒè´£

### å¯é€‰ä½†æ¨è
- `@uses` / `@used_in` - æ–‡ä»¶å…³è”å…³ç³»
- `@exports` - å¯¼å‡ºçš„API
- ç±»å‹ç‰¹å®šçš„å…ƒæ•°æ®ï¼ˆå¦‚ `@route`, `@i18n_module` ç­‰ï¼‰

---

## ğŸš€ å®æ–½ç­–ç•¥

### é˜¶æ®µ1: æ ¸å¿ƒæ–‡ä»¶ï¼ˆå·²å®Œæˆ âœ…ï¼‰
- main.tsx, App.tsx, api.ts, authContext.tsx
- app.js, index.js

### é˜¶æ®µ2: é¡µé¢å’Œç»„ä»¶ï¼ˆè¿›è¡Œä¸­ï¼‰
- æ‰€æœ‰ pages/*.tsx
- æ‰€æœ‰ components/*.tsx

### é˜¶æ®µ3: åç«¯æ ¸å¿ƒ
- æ‰€æœ‰ routes/*.js
- æ‰€æœ‰ controllers/*.js
- æ‰€æœ‰ models/*.js

### é˜¶æ®µ4: å·¥å…·å’Œé…ç½®
- utils/* æ–‡ä»¶
- ä¸­é—´ä»¶ã€æœåŠ¡ã€worker
- é…ç½®æ–‡ä»¶

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: å®Œæ•´çš„é¡µé¢æ–‡ä»¶å¤´

```tsx
/**
 * @file HomePage.tsx - åˆ›æ„åˆ—è¡¨é¦–é¡µ
 * @category Page
 * @requires_auth no
 * @i18n_module idea
 * @route /
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md #æ–°å»ºé¡µé¢å¿…å¤‡åŠŸèƒ½æ¸…å•
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md åˆ›æ„ç®¡ç†é¡µé¢ç»„ç« èŠ‚
 * 
 * èŒè´£:
 * - æ˜¾ç¤ºæ‰€æœ‰å…¬å¼€åˆ›æ„åˆ—è¡¨
 * - æ”¯æŒæµè§ˆåˆ›æ„å¡ç‰‡
 * - æ˜¾ç¤ºåˆ›æ„åŸºæœ¬ä¿¡æ¯å’Œç»Ÿè®¡æ•°æ®
 * - è·³è½¬åˆ°åˆ›æ„è¯¦æƒ…é¡µ
 * 
 * ä¾èµ–æ–‡ä»¶:
 * @uses ../api.ts - è·å–åˆ›æ„åˆ—è¡¨ (GET /api/ideas)
 * @uses ../authContext.tsx - è·å–å½“å‰ç”¨æˆ·çŠ¶æ€
 * @uses ../utils/humanizeError.ts - é”™è¯¯ä¿¡æ¯å›½é™…åŒ–
 * 
 * è¢«ä½¿ç”¨äº:
 * @used_in App.tsx - æ ¹è·¯ç”± "/"
 * 
 * å¿…å¤‡åŠŸèƒ½æ£€æŸ¥:
 * âœ… å›½é™…åŒ– (useTranslation)
 * âœ… é”™è¯¯å¤„ç† (try-catch + humanizeError)
 * âœ… åŠ è½½çŠ¶æ€ (loading state)
 * âœ… ç©ºçŠ¶æ€å¤„ç† (æ— åˆ›æ„æç¤º)
 * âœ… ç»Ÿä¸€UIæ ·å¼ (Tailwind)
 * âœ… å“åº”å¼è®¾è®¡ (grid responsive)
 */

import { useEffect, useState } from "react";
import { useTranslation } from "react-i18next";
// ... rest of the file
```

### ç¤ºä¾‹2: å®Œæ•´çš„è·¯ç”±æ–‡ä»¶å¤´

```javascript
/**
 * @file ideas.routes.js - åˆ›æ„ç›¸å…³APIè·¯ç”±
 * @category Route
 * @base_path /api/ideas
 * 
 * ğŸ“– [AI] ä¿®æ”¹å‰å¿…è¯»: /.ai-instructions.md #ä¿®æ”¹APIå¿…å¤‡æ­¥éª¤
 * ğŸ”„ [AI] ä¿®æ”¹åå¿…é¡»: åŒæ­¥æ›´æ–° PROJECT_STRUCTURE.md è·¯ç”±ç« èŠ‚
 * 
 * APIç«¯ç‚¹:
 * @endpoint GET / - è·å–åˆ›æ„åˆ—è¡¨ï¼ˆå…¬å¼€ï¼‰
 * @endpoint POST / - åˆ›å»ºæ–°åˆ›æ„ï¼ˆéœ€è®¤è¯ï¼‰
 * @endpoint GET /:id - è·å–åˆ›æ„è¯¦æƒ…ï¼ˆå…¬å¼€/ç§å¯†éœ€æƒé™ï¼‰
 * @endpoint PATCH /:id - æ›´æ–°åˆ›æ„ï¼ˆéœ€ä½œè€…æˆ–ç®¡ç†å‘˜ï¼‰
 * @endpoint DELETE /:id - åˆ é™¤åˆ›æ„ï¼ˆéœ€ä½œè€…æˆ–ç®¡ç†å‘˜ï¼‰
 * 
 * ä¾èµ–:
 * @uses controllers/ideas.controller.js - ä¸šåŠ¡é€»è¾‘å¤„ç†
 * @uses middleware/auth.js - è®¤è¯å’Œæƒé™æ£€æŸ¥
 * @uses middleware/validate.js - è¯·æ±‚æ•°æ®éªŒè¯
 * @uses schemas/idea.schemas.js - éªŒè¯è§„åˆ™
 * 
 * è®¤è¯è¦æ±‚:
 * - POST/PATCH/DELETE éœ€è¦ requireAuth
 * - PATCH/DELETE éœ€è¦ä½œè€…æˆ– admin è§’è‰²
 * 
 * è¢«æ³¨å†Œäº:
 * @registered_in app.js - Expressåº”ç”¨ (app.use('/api/ideas', ideasRoutes))
 */

const express = require('express');
// ... rest of the file
```

---

## ğŸ”„ ç»´æŠ¤åŸåˆ™

1. **åˆ›å»ºæ–°æ–‡ä»¶æ—¶**: ç«‹å³æ·»åŠ å®Œæ•´æ–‡ä»¶å¤´
2. **ä¿®æ”¹ç°æœ‰æ–‡ä»¶æ—¶**: æ›´æ–°æ–‡ä»¶å¤´ä¸­çš„ä¾èµ–å…³ç³»
3. **é‡æ„ä»£ç æ—¶**: åŒæ­¥æ›´æ–°èŒè´£æè¿°
4. **æ·»åŠ åŠŸèƒ½æ—¶**: æ›´æ–°å¯¼å‡ºåˆ—è¡¨å’Œä½¿ç”¨å…³ç³»

---

**è®°ä½: æ–‡ä»¶å¤´ä¸æ˜¯å½¢å¼ä¸»ä¹‰ï¼Œè€Œæ˜¯è®©AIèƒ½å¤Ÿ"ç†è§£"é¡¹ç›®ç»“æ„çš„å…³é”®æœºåˆ¶ï¼**
